(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1250cd8c"],{"4d7a":function(t,s,e){"use strict";e("6cc0")},"6cc0":function(t,s,e){},"6d7f":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"discover"},[e("div",{staticClass:"Carousel"},[e("el-carousel",{attrs:{interval:3e3,type:"card",height:"250px"}},t._l(t.banners,(function(s,a){return e("el-carousel-item",{key:a},[e("img",{staticClass:"item-img",attrs:{src:t.$store.state.baseURL+s.pic,alt:s.id,width:"100%",height:"100%"}})])})),1)],1),e("div",{staticClass:"songs-wrap"},[e("h4",{staticStyle:{"font-size":"21px"}},[t._v("推荐歌单")]),e("div",{staticClass:"list"},[e("ul",t._l(t.recommendList,(function(s,a){return e("li",{key:a,staticClass:"iconfont icon-play",on:{click:function(e){return t.toPlaylistDetail(s.id)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.state.baseURL+s.img,expression:"$store.state.baseURL+item.img"}],attrs:{alt:"recommend"}}),e("p",{staticClass:"last-p",attrs:{title:s.title}},[t._v(t._s(s.title))])])})),0)])]),e("div",{staticClass:"songs-wrap"},[e("h4",{staticStyle:{"font-size":"21px"}},[t._v("最新音乐")]),e("ul",{staticClass:"new-songs"},t._l(t.newSongs,(function(s,a){return e("li",{key:a},[e("div",{staticClass:"music-img-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$store.state.baseURL+s.song.img,expression:"$store.state.baseURL+item.song.img"}],attrs:{alt:"newSongs"}}),e("p",{staticClass:"iconfont icon-play",on:{click:function(e){return t.playMusic(s)}}})]),e("div",{staticClass:"music-info"},[e("p",{staticClass:"music-name"},[t._v(t._s(s.song.songName))]),e("p",{staticClass:"music-singer",staticStyle:{display:"inline",margin:"0 5px"}},[t._v(t._s(s.singerName))])])])})),0)])])},i=[],n=e("b85c"),c=(e("fb6a"),e("4d90"),e("d3b7"),e("25f0"),e("7c15")),o={data:function(){return{banners:[],recommendList:[],newSongs:[],loading:!0}},computed:{musicQueue:function(){return this.$store.state.musicQueue}},created:function(){var t=this;Object(c["c"])().then((function(s){t.banners=s.data.data})).then((function(){t.loading=!1})),Object(c["q"])("").then((function(s){t.recommendList=s.data.data.slice(0,10)})),Object(c["p"])().then((function(s){t.newSongs=s.data.data}))},methods:{timeFormat:function(t){var s=parseInt(t/6e4).toString().padStart(2,"0"),e=parseInt((t-6e4*s)/1e3).toString().padStart(2,"0");return s+":"+e},playMusic:function(t){var s=this;Object(c["m"])(t.song.id).then((function(e){if(e.data.data.url){s.songUrl=e.data.data.url;var a={imgUrl:t.song.img,artistInfo:t.singerName,songName:t.song.songName,id:t.song.id};s.$store.commit("changeMusicUrl",s.songUrl),s.$store.commit("changeMusicInfo",a),s.$store.commit("changeMusicStatus",!1),s.$store.commit("changeMusicQueue",a);var i,c=[],o=Object(n["a"])(s.musicQueue);try{for(o.s();!(i=o.n()).done;){var r=i.value;c.push(r.id)}}catch(l){o.e(l)}finally{o.f()}s.$store.commit("changeNowIndex",c.indexOf(a.id))}else s.$message({showClose:!0,message:"对不起，歌曲暂时无法播放。",type:"error"})}))},toPlaylistDetail:function(t){this.$router.push("/playlist?id=".concat(t))}}},r=o,l=(e("4d7a"),e("2877")),u=Object(l["a"])(r,a,i,!1,null,"d620415a",null);s["default"]=u.exports}}]);